# Hyper Context - 上下文工程管理项目

## 项目概述

Hyper Context 是一个智能化的提示词管理和上下文工程平台，旨在帮助用户高效管理、版本控制和可视化编辑提示词，同时通过 MCP 接口为 AI 模型提供动态知识检索能力。

## 核心功能

### 1. 提示词管理系统
- **项目管理**: 支持多项目管理，每个项目独立维护提示词体系
- **版本控制**: 完整的版本管理功能，支持提示词的迭代和回滚
- **可视化编辑**: 提供直观的编辑界面，支持实时预览和结构化编辑

### 2. 双层提示词架构
- **核心提示词**: 用户可直接复制使用，集成到各种 AI Coding 工具中
- **扩展信息提示词**: 通过 MCP 接口动态获取，按需加载详细知识

### 3. MCP 接口集成
- **StreamableHttp 方式**: 为每个项目提供专用的 MCP 接口
- **动态知识检索**: 模型可通过 MCP 工具查询扩展知识内容
- **标准化协议**: 统一的知识检索和索引协议

### 4. 知识树结构管理
- **目录式组织**: 树状结构管理知识体系
- **主文件编辑**: 支持 main.md 主文件的编辑和管理
- **灵活扩展**: 支持新建文件和文件夹来组织知识结构

## 系统架构

### 技术栈
- **项目管理**: pnpm + monorepo
- **前端**: Vite + Vue3 + TypeScript + Tailwind CSS
- **后端**: Next.js
- **数据库**: SQLite
- **容器化**: Docker 支持

### 项目结构
```
hyper-context/
├── packages/
│   ├── frontend/          # Vue3 前端应用
│   ├── backend/           # Next.js 后端服务
│   └── shared/           # 共享类型和工具
├── database/             # SQLite 数据库文件
├── docker/              # Docker 配置
└── docs/                # 项目文档
```

## 知识组织示例

### 知识树结构
```markdown
# Recce 知识树
- bridge/
  - name: KNB
  - name: MSI
  - name: UNB
  - name: recceBridge
- recce/
  - name: cli
  - events/
    - name: app_event
    - name: event
    - name: timer_event
  - lifetime/
    - name: custom_component_lifetime
```

### 核心知识详情
```markdown
# Recce 核心知识详情

=====
name: KNB
desc: KNB最初是King's Cross Native Bridge的缩写，现已发展为美团统一的Web容器解决方案。它以H5为基础，提供100+基础桥和400+业务桥，结合预加载、离线化等技术让H5体验媲美原生APP。团队比喻其像《哈利波特》的九又四分之三月台，能实现H5的"魔法"功能。
=====

扩展知识索引
- KNB_api_list: KNB 支持的所有 api
- ...

=====
name: MSI
desc: MSI是指美团推出的一种标准化API接口平台，其全称为 Meituan Standard Interface。该平台旨在统一管理和建设美团移动端多个动态化业务服务容器的API，为跨端、跨容器及跨 App 提供一致性支持。通过这一平台，可以有效解决历史遗留问题，如接口碎片化严重、重复建设泛滥以及迁移成本过高等，并帮助动态化业务更快、更好地迭代。
=====

扩展知识索引
- MSI_api_list: MSI 提供的核心接口和能力列表
- ...
```

## MCP 检索协议

### 知识状态管理
- **已加载**: 核心知识，直接可用
- **待检索**: 扩展知识，需按需获取

### 检索流程
1. **触发条件**: 知识残缺（标记为 `...` 或概念不完整）
2. **检索行动**: 终止当前任务，立即执行检索
3. **检索步骤**:
   - 索引查询: `getKnowledgeIndex('知识块名称')`
   - 内容获取: `getKnowledge('扩展知识点关键词')`

## 部署方案

### 开发环境
```bash
pnpm install
pnpm dev
```

### 生产环境
```bash
docker-compose up -d
```

### 数据库迁移
- 支持项目更新时自动从数据文件加载数据
- SQLite 数据库文件版本管理
- 自动迁移和备份机制

## 核心特性

1. **智能化管理**: 自动生成知识树和索引
2. **版本控制**: 完整的提示词版本管理
3. **可视化编辑**: 直观的编辑和预览界面
4. **动态检索**: MCP 接口支持按需知识获取
5. **容器化部署**: Docker 支持快速启动和部署
6. **模块化架构**: Monorepo 结构便于维护和扩展

## 预期收益

- 提高提示词管理效率
- 标准化知识组织结构
- 降低 AI 应用开发成本
- 支持团队协作和知识共享
- 提供可扩展的知识检索能力